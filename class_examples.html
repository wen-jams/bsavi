<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="InViz: User Guide" href="userguide.html" /><link rel="prev" title="Quickstart" href="quickstart.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2023.09.10 -->
        <title>Cosmology &amp; CLASS - InViz 0.3.7 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">InViz 0.3.7 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">InViz 0.3.7 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Cosmology &amp; CLASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">InViz: User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="cosmology-class">
<h1>Cosmology &amp; CLASS<a class="headerlink" href="#cosmology-class" title="Permalink to this heading">#</a></h1>
<p>The <a class="reference external" href="https://lesgourg.github.io/class_public/class.html">CLASS code</a> is widely used
by cosmologists to simulate the evolution of linear perturbations in the universe and
to compute CMB and large scale structure observables. CLASS accepts cosmological parameters
as input, which we will get from the Planck 2018 results. The following code demonstrates
using InViz to visualize the Planck 2018 results in parameter space and their relationship
with three observables: the matter power spectrum <span class="math notranslate nohighlight">\(P(k)\)</span>, and the power spectra of
the CMB temperature <span class="math notranslate nohighlight">\(C_{l}^{TT}\)</span> and polarization <span class="math notranslate nohighlight">\(C_{l}^{EE}\)</span>.</p>
<p>We will look at Table 6.7 from the
<a class="reference external" href="https://wiki.cosmos.esa.int/planck-legacy-archive/images/4/43/Baseline_params_table_2018_68pc_v2.pdf">Planck 2018 table of parameters</a>.
The data required for this tutorial is located
<a class="reference external" href="https://github.com/wen-jams/inviz/tree/main/data/planck2018/plikHM_TTTEEE_lowl_lowE_lensing">here</a>.</p>
<section id="pre-computed-observables">
<h2>Pre-Computed Observables<a class="headerlink" href="#pre-computed-observables" title="Permalink to this heading">#</a></h2>
<p>Let’s start with the case of pre-computed observables. A small sample was taken from the chains
and run through CLASS. The results, along with the samples themselves, are in <code class="docutils literal notranslate"><span class="pre">power_spectra_small.json</span></code>.</p>
<p>Begin by loading the data file and splitting it into chains and spectra:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">planck</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;data/planck2018/plikHM_TTTEEE_lowl_lowE_lensing/power_spectra_small.json&#39;</span><span class="p">)</span>
<span class="n">chains</span> <span class="o">=</span> <span class="n">planck</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;p(k)&#39;</span><span class="p">,</span> <span class="s1">&#39;cl_tt&#39;</span><span class="p">,</span> <span class="s1">&#39;cl_ee&#39;</span><span class="p">])</span>
<span class="n">class_results</span> <span class="o">=</span> <span class="n">planck</span><span class="p">[[</span><span class="s1">&#39;p(k)&#39;</span><span class="p">,</span> <span class="s1">&#39;cl_tt&#39;</span><span class="p">,</span> <span class="s1">&#39;cl_ee&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<p>Read in the <code class="docutils literal notranslate"><span class="pre">.paramnames</span></code> file that was included with the data. This is a list of each parameter’s name in both
plain text and LaTeX. <code class="docutils literal notranslate"><span class="pre">load_params</span></code> will return a dictionary of these labels which we will use later.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">inviz.cosmo</span> <span class="kn">import</span> <span class="n">load_params</span>

<span class="n">params_with_latex</span> <span class="o">=</span> <span class="n">load_params</span><span class="p">(</span><span class="s1">&#39;../data/planck2018/plikHM_TTTEEE_lowl_lowE_lensing/base_mnu_plikHM_TTTEEE_lowl_lowE_lensing.paramnames&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we are ready to construct an Observable which combines the observable data with plotting instructions.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">inviz</span> <span class="k">as</span> <span class="nn">iv</span>
<span class="kn">from</span> <span class="nn">holoviews</span> <span class="kn">import</span> <span class="n">opts</span>

<span class="n">curve_opts</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">Curve</span><span class="p">(</span><span class="n">logx</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ps_latex</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="s1">&#39;k~[h/\mathrm</span><span class="si">{Mpc}</span><span class="s1">]&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Pk&#39;</span><span class="p">:</span> <span class="s1">&#39;P(k)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;l&#39;</span><span class="p">:</span> <span class="s1">&#39;\ell&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Cl_tt&#39;</span><span class="p">:</span> <span class="s1">&#39;[{\ell(\ell+1)}/{2\pi}]~C_{\ell}^</span><span class="si">{TT}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Cl_ee&#39;</span><span class="p">:</span> <span class="s1">&#39;[{\ell(\ell+1)}/{2\pi}]~C_{\ell}^</span><span class="si">{EE}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">power_spectra</span> <span class="o">=</span> <span class="n">iv</span><span class="o">.</span><span class="n">Observable</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;P(k)&#39;</span><span class="p">,</span> <span class="s1">&#39;Lensed Cl_TT&#39;</span><span class="p">,</span> <span class="s1">&#39;Lensed Cl_EE&#39;</span><span class="p">],</span>
    <span class="n">parameters</span><span class="o">=</span><span class="n">class_results</span><span class="p">,</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s1">&#39;Curve&#39;</span><span class="p">,</span>
    <span class="n">plot_opts</span><span class="o">=</span><span class="n">curve_opts</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Finally, produce the visualization with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">iv</span><span class="o">.</span><span class="n">viz</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">chains</span><span class="p">,</span> <span class="n">observables</span><span class="o">=</span><span class="p">[</span><span class="n">power_spectra</span><span class="p">],</span> <span class="n">latex_dict</span><span class="o">=</span><span class="n">params_with_latex</span><span class="p">)</span><span class="o">.</span><span class="n">servable</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../images/bsavi-mainpage.gif" src="../../images/bsavi-mainpage.gif" />
</section>
<section id="dynamically-computed-observables">
<h2>Dynamically Computed Observables<a class="headerlink" href="#dynamically-computed-observables" title="Permalink to this heading">#</a></h2>
<p>This next example requires that you have <a class="reference external" href="https://cobaya.readthedocs.io/en/latest/theory_class.html#installation">Classy, the Python wrapper for CLASS</a>, installed.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># imports</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">inviz</span> <span class="k">as</span> <span class="nn">iv</span>
<span class="kn">from</span> <span class="nn">inviz</span> <span class="kn">import</span> <span class="n">cosmo</span>
<span class="kn">from</span> <span class="nn">holoviews</span> <span class="kn">import</span> <span class="n">opts</span>
</pre></div>
</div>
<p>As before, we load in the <code class="docutils literal notranslate"><span class="pre">.paramnames</span></code> file to get a dict with all the parameter names and their LaTeX code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">params_with_latex</span> <span class="o">=</span> <span class="n">cosmo</span><span class="o">.</span><span class="n">load_params</span><span class="p">(</span><span class="s1">&#39;data/planck2018/plikHM_TTTEEE_lowl_lowE_lensing/base_mnu_plikHM_TTTEEE_lowl_lowE_lensing.paramnames&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Next we will get a list of the paramname-LaTeX dict’s keys to pass into the <code class="docutils literal notranslate"><span class="pre">load_chains</span></code> function.
This function will take a given filename/glob pattern and try to read the files it finds into a DataFrame
with the <code class="docutils literal notranslate"><span class="pre">param_names</span></code> as the columns. The resulting DataFrame is 39177 rows long, so we will downsample
it to 500 to avoid overplotting.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">param_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">params_with_latex</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">chains</span> <span class="o">=</span> <span class="n">cosmo</span><span class="o">.</span><span class="n">load_chains</span><span class="p">(</span><span class="s1">&#39;data/planck2018/plikHM_TTTEEE_lowl_lowE_lensing/*.txt&#39;</span><span class="p">,</span> <span class="n">param_names</span><span class="p">,</span> <span class="n">params_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">chains</span> <span class="o">=</span> <span class="n">chains</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">load_chains</span></code> assumes the file is a txt file in the standard format outputted by two common cosmological
MCMC samplers, CosmoMC and Monte-Python. It will automatically skip the first two columns in each file,
which contain information about the sample weight and the negative log likelihood.
If you want that info as well, just change <code class="docutils literal notranslate"><span class="pre">params_only</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</div>
<p>Then we modify the table of chains into a format that CLASS will accept as input.
This just involves renaming the columns and changing H0 (Hubble constant) to little h (Hubble parameter).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inclass</span> <span class="o">=</span> <span class="n">chains</span><span class="p">[[</span><span class="s1">&#39;omegabh2&#39;</span><span class="p">,</span> <span class="s1">&#39;omegach2&#39;</span><span class="p">,</span> <span class="s1">&#39;logA&#39;</span><span class="p">,</span> <span class="s1">&#39;ns&#39;</span><span class="p">,</span> <span class="s1">&#39;tau&#39;</span><span class="p">,</span> <span class="s1">&#39;omegal*&#39;</span><span class="p">,</span> <span class="s1">&#39;yheused*&#39;</span><span class="p">,</span> <span class="s1">&#39;H0*&#39;</span><span class="p">]]</span>
<span class="n">planck_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">inclass</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">class_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;omega_b&#39;</span><span class="p">,</span> <span class="s1">&#39;omega_cdm&#39;</span><span class="p">,</span> <span class="s1">&#39;ln10^</span><span class="si">{10}</span><span class="s1">A_s&#39;</span><span class="p">,</span> <span class="s1">&#39;n_s&#39;</span><span class="p">,</span> <span class="s1">&#39;tau_reio&#39;</span><span class="p">,</span> <span class="s1">&#39;Omega_Lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;YHe&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">]</span>
<span class="n">renaming_scheme</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">planck_names</span><span class="p">,</span> <span class="n">class_names</span><span class="p">))</span>
<span class="n">inclass</span> <span class="o">=</span> <span class="n">inclass</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">renaming_scheme</span><span class="p">)</span>
<span class="n">inclass</span><span class="p">[</span><span class="s1">&#39;h&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inclass</span><span class="p">[</span><span class="s1">&#39;h&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1e-2</span>
</pre></div>
</div>
<p>Now, we’ll go through the same steps as above to set up our Observable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">curve_opts</span> <span class="o">=</span> <span class="n">opts</span><span class="o">.</span><span class="n">Curve</span><span class="p">(</span><span class="n">logx</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">ps_latex</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="s1">&#39;k~[h/\mathrm</span><span class="si">{Mpc}</span><span class="s1">]&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Pk&#39;</span><span class="p">:</span> <span class="s1">&#39;P(k)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;l&#39;</span><span class="p">:</span> <span class="s1">&#39;\ell&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Cl_tt&#39;</span><span class="p">:</span> <span class="s1">&#39;[{\ell(\ell+1)}/{2\pi}]~C_{\ell}^</span><span class="si">{TT}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Cl_ee&#39;</span><span class="p">:</span> <span class="s1">&#39;[{\ell(\ell+1)}/{2\pi}]~C_{\ell}^</span><span class="si">{EE}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">power_spectra</span> <span class="o">=</span> <span class="n">iv</span><span class="o">.</span><span class="n">Observable</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;P(k)&#39;</span><span class="p">,</span> <span class="s1">&#39;Cl_TT&#39;</span><span class="p">,</span> <span class="s1">&#39;Cl_EE&#39;</span><span class="p">],</span>
    <span class="n">myfunc</span><span class="o">=</span><span class="n">cosmo</span><span class="o">.</span><span class="n">run_class</span><span class="p">,</span>
    <span class="n">myfunc_args</span><span class="o">=</span><span class="p">(</span><span class="n">inclass</span><span class="p">,),</span>
    <span class="n">plot_type</span><span class="o">=</span><span class="s1">&#39;Curve&#39;</span><span class="p">,</span>
    <span class="n">plot_opts</span><span class="o">=</span><span class="n">curve_opts</span><span class="p">,</span>
    <span class="n">latex_labels</span><span class="o">=</span><span class="n">ps_latex</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Notice that in creating the Observable, instead of passing in <code class="docutils literal notranslate"><span class="pre">parameters</span></code>, we passed a function and
a tuple containing its arguments. <strong>It is important to remember that values for both of these cannot be
passed at the same time.</strong></p>
<p>And finally, we can produce the visualization with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">iv</span><span class="o">.</span><span class="n">viz</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">chains</span><span class="p">,</span> <span class="n">observables</span><span class="o">=</span><span class="p">[</span><span class="n">power_spectra</span><span class="p">],</span> <span class="n">latex_dict</span><span class="o">=</span><span class="n">params_with_latex</span><span class="p">)</span><span class="o">.</span><span class="n">servable</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../images/bsavi-mainpage.gif" src="../../images/bsavi-mainpage.gif" />
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="userguide.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">InViz: User Guide</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="quickstart.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Quickstart</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, James Wen
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Cosmology &amp; CLASS</a><ul>
<li><a class="reference internal" href="#pre-computed-observables">Pre-Computed Observables</a></li>
<li><a class="reference internal" href="#dynamically-computed-observables">Dynamically Computed Observables</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=0baa9010"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>